{% extends "index.html" %}
{% block head %}
<p>Hello {{ nickname }}!</p>
<a href="{{ url|safe }}" class="btn">{{ linktext }}</a>
<form>
    <label for="list_name">Your list name:</label><br>
    <input type="text" id="list_name" name="list_name" value="{{ list_name }}">
    <input type="submit" value="Add">
</form>
<form action="/list_html/add?list_name={{ list_name }}" method="post">
    <label for="item">Add an item:</label>
    <input type="text" id="item" name="item">
    <input type="submit" value="Add">
</form>

<div class="container" id="listArea">
    {% for item in list_items %}
    <ul>

        <form action="/list_html/edit?list_name={{ list_name }}" method="post">
            <input type="text" name="edit_item" value="{{ item.item }}" id="{{ item.key.id() }}Input" readonly>
            <input type="hidden" name="item_id" value="{{ item.key.id() }}">
            <input type="submit" value="Save" class="d-none" id="{{ item.key.id() }}Submit" onclick=submitEdited(this.id)>
        </form>
        <form action="/list_html/delete?list_name={{ list_name }}" method="post">
            <input type="hidden" name="item_id" value="{{ item.key.id() }}">
            <input type="submit" value="x">
        </form>
        <button id="{{ item.key.id() }}Button" class="edit_button" onclick=edit(this.id)><i class="fas fa-edit"></i></button>
        
    </ul>
    {% endfor %}
</div>
<form action="/list_html/delete-all?list_name={{ list_name }}" method="post">
    <input type="submit" value="Delete all">
</form>
{% endblock %}